<h1>Visualize Rspec Report</h1>

<div class="button-group">
  <button
    class="button"
    [ngClass]="currentClasses"
    (click)="toggleDetailedReport()"
  >
    Detailed Report
  </button>

  <button class="button" (click)="clearReport()">Clear Report</button>
</div>

<h2 class="file-name" *ngIf="fileName$ | async as fileName">
  File Name: {{ fileName }}
</h2>

<!-- <div class="feature-list" *ngIf="report$ | async as report; else fileUpload">
  Runtime: {{ report.examples | rspecReportRuntime }}s Files:
  <pre>
    {{ report.examples | rspecReportFileList | json }}
  </pre>
</div> -->

<ng-container *ngIf="examples$ | async as examples; else fileUpload">
  <div *ngFor="let example of examples; trackBy: trackByIndex">
    <pre>{{ example | json }}</pre>
  </div>
</ng-container>

<ng-template #fileUpload>
  <label for="file-upload" class="drop-zone">
    <span>click to upload .json report file</span>
    <input
      #fileInput
      id="file-upload"
      name="file-upload"
      (change)="handleFileUpload($event)"
      type="file"
    />
  </label>
</ng-template>
